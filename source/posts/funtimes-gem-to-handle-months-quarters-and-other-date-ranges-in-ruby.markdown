---
title: funtimes: gem to handle months, quarters and other date ranges in ruby
date: 2010-07-26
---
<p>I just released the <a href="http://github.com/ignu/fun-times">funtimes</a> gem to mange months, quarters and other date ranges more easily.</p>
<p>Months and Quarters are stand alone classes and DateRange is a module you can add to any class that has a start_date and an end_date.</p>
<p>Implementing DateRange lets you check for intersection, get the intersection, iterate over months and days and more:</p>
<p><span style="font-family: helvetica, arial, freesans, clean, sans-serif; font-size: 11px; line-height: 14px;"> </span></p>
<div class="line" style="padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 1em; line-height: 1.4em; margin: 0px;"><span style="font-family: Arial, Helvetica, sans-serif; font-size: small;"><span style="font-size: 13px; line-height: normal;"><span style="font-family: Bitstream Vera Sans Mono, Courier, monospace; font-size: small;"><span style="font-size: 12px; line-height: 16px;"><span style="font-family: helvetica, arial, freesans, clean, sans-serif; line-height: 14px; font-size: 11px;"><br />
</span></span></span></span></span>
<p />
<div class="line" style="padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 1em; line-height: 1.4em; margin: 0px;">  <span class="k" style="line-height: 1.4em; font-weight: bold; padding: 0px; margin: 0px;">class</span> <span class="nc" style="line-height: 1.4em; color: #445588; font-weight: bold; padding: 0px; margin: 0px;">Lease</span>
</div>
<div class="line" style="padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 1em; line-height: 1.4em; margin: 0px;">    <span class="kp" style="line-height: 1.4em; font-weight: bold; padding: 0px; margin: 0px;">include</span> <span class="no" style="line-height: 1.4em; color: #008080; padding: 0px; margin: 0px;">DateRange</span>
</div>
<div class="line" style="padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 1em; line-height: 1.4em; margin: 0px;">    <span class="kp" style="line-height: 1.4em; font-weight: bold; padding: 0px; margin: 0px;">attr_accessor</span> <span class="ss" style="line-height: 1.4em; color: #990073; padding: 0px; margin: 0px;">:start_date</span><span class="p" style="line-height: 1.4em; padding: 0px; margin: 0px;">,</span> <span class="ss" style="line-height: 1.4em; color: #990073; padding: 0px; margin: 0px;">:end_date</span>
</div>
<div class="line" style="padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 1em; line-height: 1.4em; margin: 0px;">    <span class="c1" style="line-height: 1.4em; color: #999988; font-style: italic; padding: 0px; margin: 0px;">#&#8230;</span>
</div>
<div class="line" style="padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 1em; line-height: 1.4em; margin: 0px;">  <span class="k" style="line-height: 1.4em; font-weight: bold; padding: 0px; margin: 0px;">end</span>
</div>
<p />
<div class="line" style="padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 1em; line-height: 1.4em; margin: 0px;">  <span class="n" style="line-height: 1.4em; padding: 0px; margin: 0px;">lease1</span><span class="o" style="line-height: 1.4em; font-weight: bold; padding: 0px; margin: 0px;">.</span><span class="n" style="line-height: 1.4em; padding: 0px; margin: 0px;">new</span> <span class="n" style="line-height: 1.4em; padding: 0px; margin: 0px;">may1</span><span class="p" style="line-height: 1.4em; padding: 0px; margin: 0px;">,</span> <span class="n" style="line-height: 1.4em; padding: 0px; margin: 0px;">june30</span>
</div>
<div class="line" style="padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 1em; line-height: 1.4em; margin: 0px;">  <span class="n" style="line-height: 1.4em; padding: 0px; margin: 0px;">lease2</span><span class="o" style="line-height: 1.4em; font-weight: bold; padding: 0px; margin: 0px;">.</span><span class="n" style="line-height: 1.4em; padding: 0px; margin: 0px;">new</span> <span class="n" style="line-height: 1.4em; padding: 0px; margin: 0px;">june1</span><span class="p" style="line-height: 1.4em; padding: 0px; margin: 0px;">,</span> <span class="n" style="line-height: 1.4em; padding: 0px; margin: 0px;">july31</span>
</div>
<div class="line" style="padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 1em; line-height: 1.4em; margin: 0px;">  <span class="n" style="line-height: 1.4em; padding: 0px; margin: 0px;">lease3</span><span class="o" style="line-height: 1.4em; font-weight: bold; padding: 0px; margin: 0px;">.</span><span class="n" style="line-height: 1.4em; padding: 0px; margin: 0px;">new</span> <span class="n" style="line-height: 1.4em; padding: 0px; margin: 0px;">march1</span><span class="p" style="line-height: 1.4em; padding: 0px; margin: 0px;">,</span> <span class="n" style="line-height: 1.4em; padding: 0px; margin: 0px;">december31</span>
</div>
<p />
<div class="line" style="padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 1em; line-height: 1.4em; margin: 0px;">  <span class="n" style="line-height: 1.4em; padding: 0px; margin: 0px;">lease1</span><span class="o" style="line-height: 1.4em; font-weight: bold; padding: 0px; margin: 0px;">.</span><span class="n" style="line-height: 1.4em; padding: 0px; margin: 0px;">intersects</span> <span class="n" style="line-height: 1.4em; padding: 0px; margin: 0px;">lease2</span> <span class="c1" style="line-height: 1.4em; color: #999988; font-style: italic; padding: 0px; margin: 0px;">#true</span>
</div>
<div class="line" style="padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 1em; line-height: 1.4em; margin: 0px;">  <span class="n" style="line-height: 1.4em; padding: 0px; margin: 0px;">lease3</span><span class="o" style="line-height: 1.4em; font-weight: bold; padding: 0px; margin: 0px;">.</span><span class="n" style="line-height: 1.4em; padding: 0px; margin: 0px;">encompasses</span> <span class="n" style="line-height: 1.4em; padding: 0px; margin: 0px;">lease2</span> <span class="c1" style="line-height: 1.4em; color: #999988; font-style: italic; padding: 0px; margin: 0px;">#true</span>
</div>
<div class="line" style="padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 1em; line-height: 1.4em; margin: 0px;">  <span class="n" style="line-height: 1.4em; padding: 0px; margin: 0px;">lease1</span> <span class="o" style="line-height: 1.4em; font-weight: bold; padding: 0px; margin: 0px;">&amp;</span> <span class="n" style="line-height: 1.4em; padding: 0px; margin: 0px;">lease2</span> <span class="c1" style="line-height: 1.4em; color: #999988; font-style: italic; padding: 0px; margin: 0px;"># DateRange w/start_date june1</span><span style="color: #999988; font-style: italic;"> and end_date june30</span>
</div>
<div class="line" style="padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 1em; line-height: 1.4em; margin: 0px;">  <span class="n" style="line-height: 1.4em; padding: 0px; margin: 0px;">lease1</span><span class="o" style="line-height: 1.4em; font-weight: bold; padding: 0px; margin: 0px;">.</span><span class="n" style="line-height: 1.4em; padding: 0px; margin: 0px;">months</span><span class="o" style="line-height: 1.4em; font-weight: bold; padding: 0px; margin: 0px;">.</span><span class="n" style="line-height: 1.4em; padding: 0px; margin: 0px;">each</span> <span class="p" style="line-height: 1.4em; padding: 0px; margin: 0px;">{</span><span class="o" style="line-height: 1.4em; font-weight: bold; padding: 0px; margin: 0px;">|</span><span class="n" style="line-height: 1.4em; padding: 0px; margin: 0px;">m</span><span class="o" style="line-height: 1.4em; font-weight: bold; padding: 0px; margin: 0px;">|</span> <span class="nb" style="line-height: 1.4em; color: #0086b3; padding: 0px; margin: 0px;">puts</span> <span class="n" style="line-height: 1.4em; padding: 0px; margin: 0px;">m</span><span class="o" style="line-height: 1.4em; font-weight: bold; padding: 0px; margin: 0px;">.</span><span class="n" style="line-height: 1.4em; padding: 0px; margin: 0px;">to_s</span><span class="p" style="line-height: 1.4em; padding: 0px; margin: 0px;">}</span> <span class="c1" style="line-height: 1.4em; color: #999988; font-style: italic; padding: 0px; margin: 0px;"># May 2010, June 2010</span>
</div>
<div class="line" style="padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 1em; line-height: 1.4em; margin: 0px;">  <span class="n" style="line-height: 1.4em; padding: 0px; margin: 0px;">lease2</span><span class="o" style="line-height: 1.4em; font-weight: bold; padding: 0px; margin: 0px;">.</span><span class="n" style="line-height: 1.4em; padding: 0px; margin: 0px;">quarters</span><span class="o" style="line-height: 1.4em; font-weight: bold; padding: 0px; margin: 0px;">.</span><span class="n" style="line-height: 1.4em; padding: 0px; margin: 0px;">each</span> <span class="p" style="line-height: 1.4em; padding: 0px; margin: 0px;">{</span><span class="o" style="line-height: 1.4em; font-weight: bold; padding: 0px; margin: 0px;">|</span><span class="n" style="line-height: 1.4em; padding: 0px; margin: 0px;">q</span><span class="o" style="line-height: 1.4em; font-weight: bold; padding: 0px; margin: 0px;">|</span> <span class="nb" style="line-height: 1.4em; color: #0086b3; padding: 0px; margin: 0px;">puts</span> <span class="n" style="line-height: 1.4em; padding: 0px; margin: 0px;">q</span><span class="o" style="line-height: 1.4em; font-weight: bold; padding: 0px; margin: 0px;">.</span><span class="n" style="line-height: 1.4em; padding: 0px; margin: 0px;">to_s</span><span class="p" style="line-height: 1.4em; padding: 0px; margin: 0px;">}</span> <span class="c1" style="line-height: 1.4em; color: #999988; font-style: italic; padding: 0px; margin: 0px;"># Q2 2010, Q3 2010</span>
</div>
<div class="line" style="padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 1em; line-height: 1.4em; margin: 0px;">  <span class="n" style="line-height: 1.4em; padding: 0px; margin: 0px;">lease1</span><span class="o" style="line-height: 1.4em; font-weight: bold; padding: 0px; margin: 0px;">.</span><span class="n" style="line-height: 1.4em; padding: 0px; margin: 0px;">days</span><span class="o" style="line-height: 1.4em; font-weight: bold; padding: 0px; margin: 0px;">.</span><span class="n" style="line-height: 1.4em; padding: 0px; margin: 0px;">to_a</span><span class="o" style="line-height: 1.4em; font-weight: bold; padding: 0px; margin: 0px;">.</span><span class="n" style="line-height: 1.4em; padding: 0px; margin: 0px;">length</span> <span class="c1" style="line-height: 1.4em; color: #999988; font-style: italic; padding: 0px; margin: 0px;"># 61 </span>
</div>
<div class="line" style="padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 1em; line-height: 1.4em; margin: 0px;">  <span class="n" style="line-height: 1.4em; padding: 0px; margin: 0px;">lease1</span><span class="o" style="line-height: 1.4em; font-weight: bold; padding: 0px; margin: 0px;">.</span><span class="n" style="line-height: 1.4em; padding: 0px; margin: 0px;">number_of_days_in</span> <span class="n" style="line-height: 1.4em; padding: 0px; margin: 0px;">lease2</span> <span class="c1" style="line-height: 1.4em; color: #999988; font-style: italic; padding: 0px; margin: 0px;"># 30 </span>
</div>
<p />
</div>
<p>To get started just</p>
<blockquote class="posterous_short_quote">
<p>gem install funtimes</p>
</blockquote>
<p>More information can be found in the <a href="http://github.com/ignu/fun-times/tree/master/spec/">specs</a></p>
